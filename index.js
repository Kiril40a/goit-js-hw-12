import{a as q,S as N,i as B}from"./assets/vendor-BrjZ2Zt1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();async function p(a,t){try{return(await q.get("https://pixabay.com/api/",{params:{key:"49815618-f39b281f22944c1de1a6cd368",q:a,image_type:"photo",orientation:"horizontal",safesearch:"true",page:t,per_page:15}})).data}catch(r){return console.error("Error fetching images:",r),[]}}let y=document.querySelector(".gallery"),g=document.querySelector(".loader-container"),L=document.querySelector(".more-container"),C=new N(".gallery a",{captionDelay:250,captions:!0,captionSelector:"img",captionsData:"alt",captionPosition:"bottom",animated:!0});function b(a){const t=document.createDocumentFragment();a.forEach(r=>{const n=document.createElement("li");n.className="gallery-item";const e=document.createElement("a");e.className="gallery-link",e.href=r.largeImageURL,e.addEventListener("click",u=>u.preventDefault());const o=document.createElement("img");o.className="gallery-image",o.src=r.webformatURL,o.alt=r.tags;const s=document.createElement("ul");s.className="gallery-item-desc",[{label:"Likes",value:r.likes},{label:"Views",value:r.views},{label:"Comments",value:r.comments},{label:"Downloads",value:r.downloads}].forEach(({label:u,value:E})=>{const m=document.createElement("li");m.className="gallery-item-desc-li",m.innerHTML=`<span>${u}: </span><span>${E}</span>`,s.append(m)}),e.append(o),n.append(e,s),t.append(n)}),y.append(t),C.refresh()}function D(){y.innerHTML=""}function v(){g.classList.remove("hidden")}function h(){g.classList.add("hidden")}function w(){L.classList.remove("hidden")}function S(){L.classList.add("hidden")}const P=document.querySelector(".form"),T=document.querySelector("input[name=search-text]"),M=document.querySelector(".load-more");let l="",d=0,c=0,f;const O={position:"topRight",backgroundColor:"rgba(255, 0, 0, 0.6)",timeout:3e3},i=a=>{B.show({...O,message:a})};P.addEventListener("submit",async a=>{if(a.preventDefault(),clearTimeout(f),l=T.value.trim(),!l){h(),i("The search field cannot be empty");return}f=setTimeout(async()=>{try{D(),S(),v(),c=1;const t=await p(l,c);!t.hits||t.hits.length===0?i("Sorry, there are no images matching your search query. Please try again!"):(b(t.hits),d=t.totalHits)}catch(t){console.error("Search error:",t),i("An error occurred while fetching images")}finally{h(),d>15?w():d>0&&i("We're sorry, but you've reached the end of search results.")}},300)});M.addEventListener("click",async a=>{var t;a.preventDefault(),v(),S(),c+=1;try{const r=await p(l,c);!r.hits||r.hits.length===0?i("Sorry, there are no images matching your search query. Please try again!"):b(r.hits),d<=c*15?i("We're sorry, but you've reached the end of search results."):w();const n=((t=document.querySelector(".gallery-item"))==null?void 0:t.getBoundingClientRect().height)||0;window.scrollBy({top:n*2,behavior:"smooth"})}catch(r){console.error("Load more error:",r),i("An error occurred while fetching more images")}finally{h()}});
//# sourceMappingURL=index.js.map
